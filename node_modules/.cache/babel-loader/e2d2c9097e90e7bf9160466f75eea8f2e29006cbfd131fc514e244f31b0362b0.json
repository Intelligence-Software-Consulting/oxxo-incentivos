{"ast":null,"code":"import React,{useEffect,useState}from'react';import'./Results.css';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Results(_ref){let{username}=_ref;const[data,setData]=useState([]);const[employeeInfo,setEmployeeInfo]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState('');useEffect(()=>{if(!username){setError('No se proporcionó un número de empleado.');setLoading(false);return;}const fetchData=async()=>{try{const response=await axios.get(\"/incentivos/\".concat(username));setData(response.data);if(response.data.length>0){setEmployeeInfo(response.data[0]);// Tomamos la primera coincidencia para el nombre\n}}catch(err){setError('No se encontraron incentivos para este empleado.');}setLoading(false);};fetchData();},[username]);const handleLogout=()=>{window.location.href='/';};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Desglose de incentivos por concursos a colaboradores\"}),loading?/*#__PURE__*/_jsx(\"p\",{children:\"Cargando informaci\\xF3n...\"}):error?/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error}):employeeInfo?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"logout-button\",onClick:handleLogout,children:\"Salir\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Pago realizado en n\\xF3mina del 24 de mayo 2024.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"employee-info\",children:/*#__PURE__*/_jsx(\"h3\",{children:employeeInfo[\"Nombre Empleado\"]})}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"N\\xFAmero Empleado\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Denominaci\\xF3n\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Importe\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:data.map((item,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:item[\"Número Empleado\"]}),/*#__PURE__*/_jsx(\"td\",{children:item[\"Denominación\"]}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$\",item[\"Importe\"].toFixed(2)]})]},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"total-container\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Total:\"}),\" $\",data.reduce((total,item)=>total+item.Importe,0).toFixed(2)]})]}):/*#__PURE__*/_jsxs(\"p\",{children:[\"No se encontraron datos para el empleado \",username,\".\"]})]});}export default Results;","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","Results","_ref","username","data","setData","employeeInfo","setEmployeeInfo","loading","setLoading","error","setError","fetchData","response","get","concat","length","err","handleLogout","window","location","href","className","children","onClick","map","item","index","toFixed","reduce","total","Importe"],"sources":["/Users/armandobecerril/PROYECTOS_ISC/src/Results.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport './Results.css';\nimport axios from 'axios';\n\nfunction Results({ username }) {\n  const [data, setData] = useState([]);\n  const [employeeInfo, setEmployeeInfo] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    if (!username) {\n      setError('No se proporcionó un número de empleado.');\n      setLoading(false);\n      return;\n    }\n\n    const fetchData = async () => {\n      try {\n        const response = await axios.get(`/incentivos/${username}`);\n        setData(response.data);\n        if (response.data.length > 0) {\n          setEmployeeInfo(response.data[0]); // Tomamos la primera coincidencia para el nombre\n        }\n      } catch (err) {\n        setError('No se encontraron incentivos para este empleado.');\n      }\n      setLoading(false);\n    };\n\n    fetchData();\n  }, [username]);\n\n  const handleLogout = () => {\n    window.location.href = '/';\n  };\n\n  return (\n    <div className=\"container\">\n      <h2>Desglose de incentivos por concursos a colaboradores</h2>\n      \n      {loading ? (\n        <p>Cargando información...</p>\n      ) : error ? (\n        <p className=\"error\">{error}</p>\n      ) : employeeInfo ? (\n        <div>\n          <button className=\"logout-button\" onClick={handleLogout}>Salir</button>\n          <p>Pago realizado en nómina del 24 de mayo 2024.</p>\n          <div className=\"employee-info\">\n            <h3>{employeeInfo[\"Nombre Empleado\"]}</h3>\n          </div>\n          <table>\n            <thead>\n              <tr>\n                <th>Número Empleado</th>\n                <th>Denominación</th>\n                <th>Importe</th>\n              </tr>\n            </thead>\n            <tbody>\n              {data.map((item, index) => (\n                <tr key={index}>\n                  <td>{item[\"Número Empleado\"]}</td>\n                  <td>{item[\"Denominación\"]}</td>\n                  <td>${item[\"Importe\"].toFixed(2)}</td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n          <div className=\"total-container\">\n            <strong>Total:</strong> ${data.reduce((total, item) => total + item.Importe, 0).toFixed(2)}\n          </div>\n        </div>\n      ) : (\n        <p>No se encontraron datos para el empleado {username}.</p>\n      )}\n    </div>\n  );\n}\n\nexport default Results;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,eAAe,CACtB,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,QAAS,CAAAC,OAAOA,CAAAC,IAAA,CAAe,IAAd,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAC3B,KAAM,CAACE,IAAI,CAAEC,OAAO,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CACpC,KAAM,CAACW,YAAY,CAAEC,eAAe,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CACtD,KAAM,CAACa,OAAO,CAAEC,UAAU,CAAC,CAAGd,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACe,KAAK,CAAEC,QAAQ,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CAEtCD,SAAS,CAAC,IAAM,CACd,GAAI,CAACS,QAAQ,CAAE,CACbQ,QAAQ,CAAC,0CAA0C,CAAC,CACpDF,UAAU,CAAC,KAAK,CAAC,CACjB,OACF,CAEA,KAAM,CAAAG,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAjB,KAAK,CAACkB,GAAG,gBAAAC,MAAA,CAAgBZ,QAAQ,CAAE,CAAC,CAC3DE,OAAO,CAACQ,QAAQ,CAACT,IAAI,CAAC,CACtB,GAAIS,QAAQ,CAACT,IAAI,CAACY,MAAM,CAAG,CAAC,CAAE,CAC5BT,eAAe,CAACM,QAAQ,CAACT,IAAI,CAAC,CAAC,CAAC,CAAC,CAAE;AACrC,CACF,CAAE,MAAOa,GAAG,CAAE,CACZN,QAAQ,CAAC,kDAAkD,CAAC,CAC9D,CACAF,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAEDG,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,CAACT,QAAQ,CAAC,CAAC,CAEd,KAAM,CAAAe,YAAY,CAAGA,CAAA,GAAM,CACzBC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,GAAG,CAC5B,CAAC,CAED,mBACErB,KAAA,QAAKsB,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBzB,IAAA,OAAAyB,QAAA,CAAI,sDAAoD,CAAI,CAAC,CAE5Df,OAAO,cACNV,IAAA,MAAAyB,QAAA,CAAG,4BAAuB,CAAG,CAAC,CAC5Bb,KAAK,cACPZ,IAAA,MAAGwB,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAEb,KAAK,CAAI,CAAC,CAC9BJ,YAAY,cACdN,KAAA,QAAAuB,QAAA,eACEzB,IAAA,WAAQwB,SAAS,CAAC,eAAe,CAACE,OAAO,CAAEN,YAAa,CAAAK,QAAA,CAAC,OAAK,CAAQ,CAAC,cACvEzB,IAAA,MAAAyB,QAAA,CAAG,kDAA6C,CAAG,CAAC,cACpDzB,IAAA,QAAKwB,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5BzB,IAAA,OAAAyB,QAAA,CAAKjB,YAAY,CAAC,iBAAiB,CAAC,CAAK,CAAC,CACvC,CAAC,cACNN,KAAA,UAAAuB,QAAA,eACEzB,IAAA,UAAAyB,QAAA,cACEvB,KAAA,OAAAuB,QAAA,eACEzB,IAAA,OAAAyB,QAAA,CAAI,oBAAe,CAAI,CAAC,cACxBzB,IAAA,OAAAyB,QAAA,CAAI,iBAAY,CAAI,CAAC,cACrBzB,IAAA,OAAAyB,QAAA,CAAI,SAAO,CAAI,CAAC,EACd,CAAC,CACA,CAAC,cACRzB,IAAA,UAAAyB,QAAA,CACGnB,IAAI,CAACqB,GAAG,CAAC,CAACC,IAAI,CAAEC,KAAK,gBACpB3B,KAAA,OAAAuB,QAAA,eACEzB,IAAA,OAAAyB,QAAA,CAAKG,IAAI,CAAC,iBAAiB,CAAC,CAAK,CAAC,cAClC5B,IAAA,OAAAyB,QAAA,CAAKG,IAAI,CAAC,cAAc,CAAC,CAAK,CAAC,cAC/B1B,KAAA,OAAAuB,QAAA,EAAI,GAAC,CAACG,IAAI,CAAC,SAAS,CAAC,CAACE,OAAO,CAAC,CAAC,CAAC,EAAK,CAAC,GAH/BD,KAIL,CACL,CAAC,CACG,CAAC,EACH,CAAC,cACR3B,KAAA,QAAKsB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BzB,IAAA,WAAAyB,QAAA,CAAQ,QAAM,CAAQ,CAAC,KAAE,CAACnB,IAAI,CAACyB,MAAM,CAAC,CAACC,KAAK,CAAEJ,IAAI,GAAKI,KAAK,CAAGJ,IAAI,CAACK,OAAO,CAAE,CAAC,CAAC,CAACH,OAAO,CAAC,CAAC,CAAC,EACvF,CAAC,EACH,CAAC,cAEN5B,KAAA,MAAAuB,QAAA,EAAG,2CAAyC,CAACpB,QAAQ,CAAC,GAAC,EAAG,CAC3D,EACE,CAAC,CAEV,CAEA,cAAe,CAAAF,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}